<HTML>
<HEAD>
	<TITLE>WD1793 Floppy Disk Controller</TITLE>
	<LINK href="styles.css" type=text/css rel=stylesheet >
</HEAD>
<style type=text/css>

table {
	font-size : 10pt;
	color : #000000;
	font-family: Arial, Verdana, Helvetica, sans-serif;
	border: 1px #000000 solid;
	border-collapse: collapse; 
}

td {
	vertical-align: top;
	white-space: nowrap;
	font-size : 10pt;
	color : #000000;
	border: 1px #c0c0c0 solid;
	font-family: Arial, Verdana, Helvetica, sans-serif;
	padding: 2px 5px 2px 5px;
	text-align: left;
}

td.data {
	vertical-align: top;
	white-space: nowrap;
	font-size : 10pt;
	color : #000000;
	border: 1px #c0c0c0 solid;
	font-family: Arial, Verdana, Helvetica, sans-serif;
	padding: 2px 5px 2px 5px;
	text-align: center;
}


td.rdata {
	vertical-align: top;
	white-space: normal;
	font-size : 10pt;
	color : #000000;
	border: 1px #c0c0c0 solid;
	font-family: Arial, Verdana, Helvetica, sans-serif;
	padding: 2px 5px 2px 5px;
	text-align: left;
}


td.rheader {
	color: #000000;
	background-color: #eeeeee;
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 10pt;
	font-weight: bold;
	padding: 2px 5px 2px 5px;
	text-align: center;
	vertical-align: bottom;
}

</style>

<body class=site>
<div class="title">
	<b>M6821 PIA Atapter Register Reference</b><br>
	From <em><a href="http://www.cocounravelled.com" target="_blank">Extended Color Basic Unravelled</a></em>
</div>
<br>
<div class="main">
<table class="info" width="550" style="border: 0px #000000 solid;" ID="Table1">
	<tr><td style="border: 0px; white-space: normal; text-align: left;">
		<center><h3>M6821 PIA Adapter Register Reference</h2></center>


		<table id="COCO-PIA0.0" width=500 align="center">
			<tr><td class=header colSpan=2>$FF00 - PIA0 : I/O Port A</td></tr>
			<tr><td class="data">Bit 0</td><td>Keyboard row 1 and right joystick switch 1</td></tr>
			<tr><td class="data">Bit 1</td><td>Keyboard row 2 and left joystick switch 1</td></tr>
			<tr><td class="data">Bit 2</td><td>Keyboard row 3 and right joystick switch 2</td></tr>
			<tr><td class="data">Bit 3</td><td>Keyboard row 4 and left joystick switch 2</td></tr>
			<tr><td class="data">Bit 4</td><td>Keyboard row 5</td></tr>
			<tr><td class="data">Bit 5</td><td>Keyboard row 6</td></tr>
			<tr><td class="data">Bit 6</td><td>Keyboard row 7</td></tr>
			<tr><td class="data">Bit 7</td><td>Jotstick comparison input</td></tr>
		</table>
		<br>
		<br>
		<br>
		<br>
		<table id="Table2" width=500 align="center">
			<tr><td class=header colSpan=2>$FF01 - PIA0 : I/O Control A</td></tr>
			<tr>
				<td class="data">bit0</td>
				<td>
					Control of HSync (63.5ps)<br>
						0 = IRQ* to CPU disabled interrupt<br>
						1 = IRQ* to CPU enabled
				</td>
			</tr>
			
			<tr>
				<td class="data">bit1</td>
				<td>
					Control of interrupt<br>
							0 = flag set on falling edge of HSync polarity<br>
							1 = flag set on rising edge of HSync
				</td>
			</tr>
			
			<tr><td class="data">bit2</td><td>Normally 1. 0 = changes $FF00 to data direction</td></tr>
			<tr><td class="data">bit3</td><td>Sel 1 LSB of two analog MUX select lines</td></tr>
			<tr><td class="data">bit4</td><td>Always 1</td></tr>
			<tr><td class="data">bit5</td><td>Always 1</td></tr>
			<tr><td class="data">bit6</td><td>Not used</td></tr>
			<tr><td class="data">bit7</td><td>Horizontal Sync interrupt flag</td></tr>
		</table>


		<br>
		<br>
		<br>
		<br>
		<table id="Table3" width=500 align="center">
			<tr><td class=header colSpan=2>$FF02 - PIA0 : I/O Port B</td></tr>
			<tr><td class="data">bit0</td><td>Keyboard column 1</td></tr>
			<tr><td class="data">bit1</td><td>Keyboard column 2</td></tr>
			<tr><td class="data">bit2</td><td>Keyboard column 3</td></tr>
			<tr><td class="data">bit3</td><td>Keyboard column 4</td></tr>
			<tr><td class="data">bit4</td><td>Keyboard column 5</td></tr>
			<tr><td class="data">bit5</td><td>Keyboard column 6</td></tr>
			<tr><td class="data">bit6</td><td>Keyboard column 7 / RAM size output</td></tr>
			<tr><td class="data">bit7</td><td>Keyboard column 8</td></tr>
		</table>


		<br>
		<br>
		<br>
		<br>
		<table id="table4" width=500 align="center">
			<tr><td class=header colspan=2>$FF03 - PIA0 : I/O Control B</td></tr>
			<tr>
				<td class="data">bit-0</td>
				<td>
					Control of VSync (16.667ms)<br>
						0 = IRQ* to CPU disabled interrupt<br>
						1 = IRQ* to CPU enabled
				</td>
			</tr>
			
			<tr><td class="data">bit-1</td>
			<td>
				Control of interrupt<br>
					0 = flag set on falling edge of FS polarity<br>
					1 = flag set on rising edge of FS
			</td></tr>
			
			<tr><td class="data">bit2</td><td>Normally 1 0 = changes $FF02 to data direction</td></tr>
			<tr><td class="data">bit3</td><td>Sel 2 MSB of two analog MUX select lines</td></tr>
			<tr><td class="data">bit4</td><td>Always 1</td></tr>
			<tr><td class="data">bit5</td><td>Always 1</td></tr>
			<tr><td class="data">bit6</td><td>Not used</td></tr>
			<tr><td class="data">bit7</td><td>Field Sync interrupt flag</td></tr>



		</table>


	</td></tr>
</table>
</div>
<br>
<br>
<br>
<br>








