<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
	<head>
		<title>CASM Introduction</title>
		<META http-equiv="Content-Type" content="text/html; charset=Windows-1252">
		<meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema">
		<LINK href="styles.css" type="text/css" rel="stylesheet">
	</head>
	<body class="site">
		<div class="title"><b>
				 STRUCT - Declare a structure<BR>
			</b>
		</div>
		<br>
		<pre class="bnf"><EM>name</EM>	STRUCT<BR>	<EM>fielddeclarations<BR></EM>	ENDS</pre>
		<div class="main">
			<br>
			Declares a structure 
having the specified <EM>fielddeclarations.</EM>
			              
			        Each field must 
			be a valid data definition.
			<br>
			<P>Each&nbsp;<EM>fielddeclaration</EM> of the structure MUST be declared with a name that is unique 
				within the structure. The allowed data types are FCB, FDB, FQB, ZMB, ZMD, ZMQ, 
				UNION, or another data structure. If an expression is supplied the resulting 
				value will determine the number of elements of the specified type to use.
			</P>
		</div>
		<div class="section">
			Examples:<br>
		</div>
		<div class="main">
			<pre class="example">color	struct
red	rmb	1
green	rmb	1
blue	rmb	1
	ends</pre>
			Members of the structure are accessed as "structurename"."membername". An 
			example of accessing member structures:
			<P></P>
			<pre class="example">	lda	$1000+color.red
	lda	color.blue,x</pre>
			<P>
				Alternatively a structure can be used in a similar manner as built in data 
				types such as FCB and FDB. An example of accessing a structure when used like a 
				built in data type:</P>
			<p>
				<pre class="example">data	color

	lda	data.blue
	lda	data.green
	lda	data.red</pre>
			<P>Structures can also be declared and accessed as arrays in 
the following form:</P>
			<P>
				<pre class="example">palette	struct
colors	color	16
	ends

	lda	colors[2].red
	suba	colors[3].blue
	sta	colors[4].green<BR></pre>
			<P>A special operator has also been provided for use in expressions when dealing 
				with structures. The <STRONG>sizeof</STRONG> operator can be used to determine 
				the size of a structure or of data declared with a structure.</P>
			<P>
			<p>
				<pre class="example">palette	struct
colors	color	16
	ends

	ldb	#sizeof(palette)/sizeof(color)
	ldx	#palette
clear	clr	color.red,x
	clr	color.green,x
	clr	color.blue,x
	leax	sizeof(color),x
	decb
	bne	clear</pre>
<P></P>
			<br>
		</div>
		
		<div class="section">
			See also:
		</div>
		<div class="main">
			<a href="pseudo_union.htm">UNION</a>,
			<a href="pseudo_endunion.htm">ENDUNION</a>
		</div>
		<hr>
		<div class="section">
		Compatibility:
		</div>
		<div class="main">
			<table class="compat_info" id="Table4" width="375">
				<tr>
					<td class="compat_header"></td>
					<td class="compat_header" align="center"><b>STRUCT</b></td>
					<td class="compat_header" align="center"><b>ENDSTRUCT</b></td>
					<td class="compat_header" align="center"><b>ENDS</b></td>
				</tr>
				<tr>
					<td class="compat_info">CASM</td>
					<td class="compat_info" align="center"><b>X</b></td>
					<td class="compat_info" align="center"><b>X</b></td>
					<td class="compat_info" align="center"><b>X</b></td>
				</tr>
				<tr>
					<td class="compat_info">CCASM</td>
					<td class="compat_info" align="center"><b>X</b></td>
					<td class="compat_info" align="center"><b>X</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">OS-9 RMA</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">Edt/Asm III</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">Edtasm6309</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">Disk Edtasm+</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">Edtasm+</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
				<tr>
					<td class="compat_info">Macro-80C</td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
					<td class="compat_info" align="center"><b>&nbsp;</b></td>
				</tr>
			</table>
		</div>
	</body>
</html>